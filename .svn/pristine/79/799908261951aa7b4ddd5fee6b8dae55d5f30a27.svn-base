webpackJsonp([21,34,36,37],{22:function(e,t){"use strict";function a(e){return("00"+e).substr(e.length)}function n(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var c in n)if(new RegExp("("+c+")").test(t)){var s=n[c]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?s:a(s))}return t}function c(e,t,a,n){var c,s,o;o=6371,t=t*Math.PI/180,n=n*Math.PI/180,c=t-n,s=(e-a)*Math.PI/180;var l,i,r;return i=Math.sin(c/2),r=Math.sin(s/2),l=2*o*Math.asin(Math.sqrt(i*i+Math.cos(t)*Math.cos(n)*r*r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default={formatDate:n,distance:c}},242:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=a(59),s=n(c),o=a(7),l=n(o),i=a(12),r=n(i),p=a(22);n(p);t.default={methods:{updateCom:function(){var t=this;this.company.address=this.company.province+" "+this.company.city+" "+this.company.are+" "+this.xian,e.ajax({type:"PUT",url:l.default.UPDATE_COMINFORMATION,data:{companyAddress:t.company.address,email:t.company.email,companyLegal:t.company.companyLegal,emergencyContactName:t.company.emergencyContactName,emergencyContactPhone:t.company.emergencyContactPhone},success:function(){t.$message({message:"修改成功",type:"success"}),window.location.href="#/myplan"},dataType:"json"})},gg1:function(t){var a=this;this.company.city="",this.company.are="",this.xian="",this.company.province=t.name;var n=l.default.GET_PROVINCE+"?id="+t.id;e.ajax({type:"GEt",url:n,success:function(e){a.place.shi=e.data},dataType:"json"})},gg2:function(t){var a=this;this.company.are="",this.xian="",this.company.city=t.name;var n=l.default.GET_PROVINCE+"?id="+t.id;e.ajax({type:"GEt",url:n,success:function(e){a.place.qu=e.data},dataType:"json"})},gg3:function(e){this.xian=""}},data:function(){var e,t,a=function(e,t,a){var n=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;""!=t?n.test(t)?a():a(new Error("请邮箱格式错误")):a()};return t={rules:{emergencyContactName:[{required:!0,message:"请输入紧急联系人名字",trigger:"blur"},{min:2,message:"长度在 2 到 10 个字符",trigger:"blur"}],emergencyContactPhone:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"},{min:11,max:11,message:"电话号码长度为11位",trigger:"blur"}],email:[{required:!0,message:"请再次输入邮箱",trigger:"blur"},{validator:a,trigger:"blur"}]},place:{sheng:"",shi:""},xian:"",region:[{label:"飞行员证书",value:1}]},(0,s.default)(t,"xian",""),(0,s.default)(t,"company",(e={emergencyContactName:"",emergencyContactPhone:"",address:"",email:"",city:""},(0,s.default)(e,"email",""),(0,s.default)(e,"province",""),(0,s.default)(e,"are",""),e)),t},mounted:function(){var t=this;e.ajax({type:"GET",url:l.default.GET_UPDATEMESSAGE,success:function(e){t.company=r.default.util.extend(t.company,e.data),console.log(t.company),t.company.address=t.company.companyAddress.split(" "),t.company.province=t.company.address[0],t.company.city=t.company.address[1],t.company.are=t.company.address[2],t.xian=t.company.address[3]},dataType:"json"}),e.ajax({type:"GET",url:l.default.GET_PROVINCE,success:function(e){t.place.sheng=e.data},dataType:"json"})}}}).call(t,a(6))},519:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"updateCom.vue",sourceRoot:"webpack://"}])},575:function(e,t,a){var n=a(519);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},594:function(e,t,a){a(575);var n=a(5)(a(242),a(642),"data-v-d8b97484",null);e.exports=n.exports},642:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"plan"},[a("div",{staticClass:"title clear",staticStyle:{padding:"15px 15px"}},[e._m(0),e._v(" "),a("div",{staticClass:"right"},[a("el-button",[a("a",{attrs:{href:"#/myplan"}},[e._v("返回")])])],1)]),e._v(" "),a("div",{staticClass:"plan-form"},[a("el-form",{ref:"company",attrs:{"label-position":"left","label-width":"120px",model:e.company,rules:e.rules}},[a("div",{staticClass:"plan-form-title"},[a("div",{staticClass:"devider"}),e._v(" "),a("p",{staticClass:"text"},[e._v("基础信息")])]),e._v(" "),a("div",{staticClass:"plan-form-content",staticStyle:{"padding-left":"20px"}},[a("el-form-item",{attrs:{label:"用户名"}},[e._v("\n                        "+e._s(e.company.userName)+"\n                    ")]),e._v(" "),a("el-form-item",{attrs:{label:"单位名称"}},[e._v("\n                        "+e._s(e.company.companyName)+"\n                    ")]),e._v(" "),a("el-form-item",{attrs:{label:"单位联系人"}},[e._v("\n                        "+e._s(e.company.contactName)+"\n                    ")]),e._v(" "),a("el-form-item",{attrs:{label:"注册手机号码"}},[e._v("\n                        "+e._s(e.company.contactPhone)+"\n                    ")]),e._v(" "),a("el-form-item",{attrs:{label:"社会统一信用代码"}},[e._v("\n                        "+e._s(e.company.licenseNumber)+"\n                    ")]),e._v(" "),a("el-form-item",{attrs:{label:"营业执照"}},[a("img",{staticStyle:{width:"100px",height:"100px","margin-right":"10px"},attrs:{src:e.company.licensePic}})]),e._v(" "),a("el-form-item",{staticStyle:{width:"60%"},attrs:{label:"单位地址"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{input:e.gg1},model:{value:e.company.province,callback:function(t){e.company.province=t},expression:"company.province"}},e._l(e.place.sheng,function(e){return a("el-option",{attrs:{label:e.name,value:e}})})),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{input:e.gg2},model:{value:e.company.city,callback:function(t){e.company.city=t},expression:"company.city"}},e._l(e.place.shi,function(e){return a("el-option",{attrs:{label:e.name,value:e}})})),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.company.are,callback:function(t){e.company.are=t},expression:"company.are"}},e._l(e.place.shi,function(e){return a("el-option",{attrs:{label:e.name,value:e.name}})})),e._v(" "),a("el-input",{staticStyle:{"margin-top":"15px"},attrs:{type:"textarea",rows:7,placeholder:"详细地址"},model:{value:e.xian,callback:function(t){e.xian=t},expression:"xian"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"公司邮箱",prop:"email"}},[a("el-input",{model:{value:e.company.email,callback:function(t){e.company.email=t},expression:"company.email"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"公司法人"}},[a("el-input",{model:{value:e.company.companyLegal,callback:function(t){e.company.companyLegal=t},expression:"company.companyLegal"}})],1)],1),e._v(" "),a("div",{staticClass:"plan-form-title"},[a("div",{staticClass:"devider"}),e._v(" "),a("p",{staticClass:"text"},[e._v("紧急联系人")])]),e._v(" "),a("div",{staticClass:"plan-form-content",staticStyle:{"padding-left":"20px"}},[a("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"姓名",prop:"emergencyContactName"}},[a("el-input",{model:{value:e.company.emergencyContactName,callback:function(t){e.company.emergencyContactName=t},expression:"company.emergencyContactName"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"手机号码",prop:"emergencyContactPhone"}},[a("el-input",{model:{value:e.company.emergencyContactPhone,callback:function(t){e.company.emergencyContactPhone=t},expression:"company.emergencyContactPhone"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.updateCom}},[e._v("提交修改")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"left",staticStyle:{"font-size":"18px"}},[a("span",[e._v("企业信息编辑")])])}]}}});