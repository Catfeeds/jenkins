webpackJsonp([2,34,36,37],{20:function(t,n,e){n=t.exports=e(2)(),n.push([t.id,".plan .title{padding:20px;color:#717171;border-bottom:1px solid #9e9e9e;margin-bottom:10px}.plan .title p{line-height:36px}.plan .title button{width:100px}.plan .tips{background:#f0f0f0;color:#7f7f7f;padding:5px 20px;margin-bottom:15px}.plan-form-title{position:relative;height:20px;line-height:20px}.plan-form-title .text{position:absolute;top:0;left:15px;font-size:16px;color:#bcbcbc;z-index:2;padding:0 5px;background-color:#fff}.plan-form-title .devider{position:absolute;top:50%;left:0;height:1px;width:100%;background-color:#f0f0f0;z-index:1}.plan-form-content{padding:20px}","",{version:3,sources:["/./src/style/plan.css"],names:[],mappings:"AAGA,aACI,aAAa,AACb,cAAc,AACd,gCAAgC,AAChC,kBAAmB,CACtB,AACD,eACI,gBAAiB,CACpB,AAED,oBACI,WAAY,CACf,AAED,YACI,mBAAmB,AACnB,cAAc,AACd,iBAAiB,AACjB,kBAAmB,CACtB,AAMD,iBACI,kBAAkB,AAClB,YAAY,AACZ,gBAAiB,CACpB,AAED,uBACI,kBAAkB,AAClB,MAAQ,AACR,UAAU,AACV,eAAe,AACf,cAAc,AACd,UAAW,AACX,cAAc,AACd,qBAAsB,CACzB,AAED,0BACI,kBAAkB,AAClB,QAAQ,AACR,OAAO,AACP,WAAW,AACX,WAAW,AACX,yBAAyB,AACzB,SAAW,CACd,AAED,mBACI,YAAa,CAChB",file:"plan.css",sourcesContent:["/*飞行计划、空域申请页面样式*/\r\n\r\n\r\n.plan .title{\r\n    padding:20px;\r\n    color:#717171;\r\n    border-bottom:solid 1px #9e9e9e;\r\n    margin-bottom:10px;\r\n}\r\n.plan .title p{\r\n    line-height:36px;\r\n}\r\n\r\n.plan .title button{\r\n    width:100px;\r\n}\r\n\r\n.plan .tips{\r\n    background:#f0f0f0;\r\n    color:#7f7f7f;\r\n    padding:5px 20px;\r\n    margin-bottom:15px;\r\n}\r\n\r\n.plan-form{\r\n\r\n}\r\n\r\n.plan-form-title{\r\n    position:relative;\r\n    height:20px;\r\n    line-height:20px;\r\n}\r\n\r\n.plan-form-title .text{\r\n    position:absolute;\r\n    top:0px;\r\n    left:15px;\r\n    font-size:16px;\r\n    color:#bcbcbc;\r\n    z-index: 2;\r\n    padding:0 5px;\r\n    background-color:#fff;\r\n}\r\n\r\n.plan-form-title .devider{\r\n    position:absolute;\r\n    top:50%;\r\n    left:0;\r\n    height:1px;\r\n    width:100%;\r\n    background-color:#f0f0f0;\r\n    z-index: 1;\r\n}\r\n\r\n.plan-form-content{\r\n    padding:20px;\r\n}"],sourceRoot:"webpack://"}])},21:function(t,n,e){var a=e(20);"string"==typeof a&&(a=[[t.id,a,""]]);e(3)(a,{});a.locals&&(t.exports=a.locals)},22:function(t,n){"use strict";function e(t){return("00"+t).substr(t.length)}function a(t,n){/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var l in a)if(new RegExp("("+l+")").test(n)){var i=a[l]+"";n=n.replace(RegExp.$1,1===RegExp.$1.length?i:e(i))}return n}function l(t,n,e,a){var l,i,r;r=6371,n=n*Math.PI/180,a=a*Math.PI/180,l=n-a,i=(t-e)*Math.PI/180;var o,s,c;return s=Math.sin(l/2),c=Math.sin(i/2),o=2*r*Math.asin(Math.sqrt(s*s+Math.cos(n)*Math.cos(a)*c*c))}Object.defineProperty(n,"__esModule",{value:!0}),n.default={formatDate:a,distance:l}},208:function(t,n,e){e(585);var a=e(5)(e(242),e(653),"data-v-584ecd7b",null);t.exports=a.exports},242:function(t,n,e){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var l=e(70),i=a(l),r=e(61),o=a(r);e(21);var s=e(22),c=a(s),p=e(8),d=a(p),u=e(12),f=a(u);n.default={methods:{addLanding:function(){var t,n=(t={id:"-1",name:"自选起降场",location:"",lng0:0,lng1:0},(0,o.default)(t,"lng1",0),(0,o.default)(t,"lat0",0),(0,o.default)(t,"lat1",0),(0,o.default)(t,"lat2",0),t);this.flyplan.landingInfo.push(n)},removeLanding:function(t){this.flyplan.landingInfo.length<2||this.flyplan.landingInfo.splice(t,1)},addAirInfo:function(){var t={location:"",high:"0",scopeType:1,circleScope:{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0,radius:0},centers:[{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0}]};this.flyplan.airInfo.push(t)},removeAirInfo:function(t){this.flyplan.airInfo.length<2||this.flyplan.airInfo.splice(t,1)},addCenter:function(t){t.push({lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0})},removeLastCenter:function(t){t.splice(t.length-1,1)},removeCenter:function(t,n){return t.length<4?void this.$message("请至少填写3个拐点坐标"):void t.splice(n,1)},handleChangeLanding:function(t){var n=this.landings.find(function(n){return n.id==t.id});f.default.util.extend(t,n)},flyTypeChange:function(t){"其他"!=t?this.planTypeInputDisable=!0:this.planTypeInputDisable=!1},back:function(){this.$router.go(-1)},descInput:function(){var t=this.flyplan.remark.length;if(this.remnant=100-t,t>=100)return!1},submit:function(){var n=this.$refs.flyplan,e=!0;for(var a in this.rules)n.validateField(a,function(t){""!=t&&(this.$message.error(t,5e3),e=!1)}.bind(this));e&&(this.isLoading=!0,t.ajax({url:d.default.ADD_FLYPLANS,method:"post",contentType:"application/json",data:this.getRequestBody(),success:function(t){window.location.href="#/myplan"},complete:function(){this.isLoading=!1}.bind(this)}))},getRequestBody:function(){var t=this.flyplan,n=t.airInfo.map(function(t){var n={location:t.location,high:t.high,scopeType:t.scopeType};if("1"==t.scopeType){var e={lng:t.lng0+","+t.lng1+","+t.lng2,lat:t.lat0+","+t.lat1+","+t.lat2,radius:t.radius};n.circleScope=e}else if("2"==t.scopeType){var a=t.centers.map(function(t){return{lng:t.lng0+","+t.lng1+","+t.lng2,lat:t.lat0+","+t.lat1+","+t.lat2}});n.centers=a}return n}),e=t.landingInfo.map(function(t){var n={id:t.id,name:t.name,location:t.location};return n.id==-1&&(n.lng=t.lng0+","+t.lng1+","+t.lng2,n.lat=t.lat0+","+t.lat1+","+t.lat2),n}),a=f.default.util.extend({},t.contactInfo),l=t.planes.filter(function(t){return t.number>0}).map(function(t){return{name:"其他"==t.name?t.desc:t.name,number:t.number}}),r={type:t.type,planType:"其他"==t.planType?t.planTypeName:t.planType,planes:l,beginTime:c.default.formatDate(t.planTime.date,"yyyy-MM-dd")+" "+t.planTime.beginHour+":"+t.planTime.beginMinute,endTime:c.default.formatDate(t.planTime.date,"yyyy-MM-dd")+" "+t.planTime.endHour+":"+t.planTime.endMinute,airInfo:n,landingInfo:e,contactInfo:a,weatherCondition:t.weatherCondition,remark:t.remark,applyOfficialNo:t.applyOfficialNo};return(0,i.default)(r)}},data:function(){var t=this,n=function(n,e,a){return"其他"==t.flyplan.planType&&""==t.flyplan.planTypeName?a(new Error(n.message)):a()},e=function(n,e,a){var l=t.flyplan.planes.some(function(t){return 1==t.checked&&t.number>0}),i=t.flyplan.planes.some(function(t){return 1==t.checked&&0==t.number});return!l||i?a(new Error(n.message)):a()},a=function(n,e,a){return""==t.flyplan.planTime.beginHour||""==t.flyplan.planTime.beginMinute||""==t.flyplan.planTime.endHour||""==t.flyplan.planTime.endMinute?a(new Error(n.message)):void a()},l=function(n,e,a){var l=/^1[34578]\d{9}$/;return l.test(t.flyplan.contactInfo.unitContactPhone)?void a():a(new Error("请填写正确手机号"))},i=function(n,e,a){var l=/^1[34578]\d{9}$/;return l.test(t.flyplan.contactInfo.fieldContactPhone)?void a():a(new Error("请填写正确手机号"))},r=function(n,e,a){return t.flyplan.contactInfo.fieldContactPhone==t.flyplan.contactInfo.unitContactPhone?a(new Error(n.message)):void a()},o=function(n,e,a){var l=t.flyplan.airInfo.findIndex(function(t){return""==t.location});return l!=-1?a(new Error(n.message)):void a()},s=function(n,e,a){var l=t.flyplan.landingInfo.findIndex(function(t){return""==t.location});return l!=-1?a(new Error(n.message)):void a()},c=this.$store.state.planeTypes.map(function(t){return{name:t.label,number:0,checked:!1}});return{rules:{planType:[{validator:n,message:"请填写计划类型",trigger:"blur",required:!0}],planes:[{validator:e,message:"请至少选择一种机型，且机型数量不能为0",trigger:"blur",required:!0}],planTime:[{validator:a,required:!0,message:"请输入完整的计划开始时间和结束时间",trigger:"blur"}],applyOfficialNo:[{required:!0,message:"空域批文编号不能为空",trigger:"blur"}],airInfo:[{required:!0,message:"空域位置不能为空",trigger:"blur",validator:o}],landingInfo:[{required:!0,message:"起降场位置不能为空",trigger:"blur",validator:s}],"contactInfo.fieldContactName":[{required:!0,message:"请输入现场联系人名字",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],"contactInfo.fieldContactPhone":[{required:!0,message:"请输入现场联系人手机号码",trigger:"blur"},{validator:i,min:11,max:11,trigger:"blur"},{validator:r,message:"单位联系人的电话号码不能与现场联系人的电话号码一样",trigger:"blur"}],"contactInfo.unitContactName":[{required:!0,message:"请输入单位联系人名字",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],"contactInfo.unitContactPhone":[{required:!0,message:"请输入单位联系人手机号码",trigger:"blur"},{min:11,max:11,validator:l,trigger:"blur"}]},isLoading:!1,remnant:100,pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}},planTypeInputDisable:!0,flyplan:{type:0,applyOfficialNo:"",planType:this.$store.state.planTypes.plan0[0].label,planTypeName:"",planes:c,planTime:{date:new Date((new Date).getTime()+864e5),beginHour:"",beginMinute:"",endHour:"",endMinute:""},airInfo:[{location:"",high:"0",scopeType:1,circleScope:{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0,radius:0},centersLength:3,centers:[{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0}]}],landingInfo:[{id:"-1",location:"",name:"自选起降场",lat0:0,lat1:0,lat2:0,lng0:0,lng1:0,lng2:0}],contactInfo:{unitContactName:"",unitContact:"",unitContactPhone:"",emergencyContactName:"",emergencyContactPhone:""},weatherCondition:"",remark:""}}},computed:{planTypes:function t(){var t=this.$store.state.planTypes.plan0;return t},landings:function t(){var t=this.$store.state.landings;return t},selectableFlyBeginHours:function(){var t=this.$store.state.flyHours;return t},selectableFlyBeginMinutes:function(){var t=this.$store.state.flyMinutes;return t},selectableFlyEndHours:function(){var t=this.$store.state.flyHours;return t.filter(function(t){return this.flyplan.planTime.beginMinute<50?parseInt(t.label)>=parseInt(this.flyplan.planTime.beginHour):parseInt(t.label)>=parseInt(this.flyplan.planTime.beginHour)+1}.bind(this))},selectableFlyEndMinutes:function(){var t=this.$store.state.flyMinutes;return t.filter(function(t){return parseInt(this.flyplan.planTime.beginHour)!=parseInt(this.flyplan.planTime.endHour)||parseInt(t.label)>parseInt(this.flyplan.planTime.beginMinute)}.bind(this))}},created:function(){this.user=this.$store.getters.getSession},mounted:function(){1==this.user.type&&this.$alert("该页面内容仅企业用户填报有效，个人用户填报暂时不予审核","温馨提示",{confirmButtonText:"确定",type:"warning"});var n=this.$route.params.tmplCode;void 0!=n&&t.ajax({url:d.default.GET_FLYPLAN+"/"+n,method:"get",dataType:"json",success:function(t){var n=t.data.planType,e=this.$store.state.planTypes.plan0.findIndex(function(t){return n==t.label});if(e==-1?(this.flyplan.planType="其他",this.flyplan.planTypeName=n):this.flyplan.planType=n,t.data.planes=JSON.parse(t.data.planes),t.data.planes=t.data.planes.filter(function(t){return t.number>0}),this.flyplan.planes.forEach(function(n){var e=t.data.planes.findIndex(function(t){return t.name==n.name});e!==-1&&(n.checked=!0,n.number=t.data.planes[e].number,t.data.planes.splice(e,1))}),t.data.planes.length>0){var a=t.data.planes[0],l=this.flyplan.planes.find(function(t){return"其他"==t.name});l.desc=a.name,l.number=a.number,l.checked=a.number>0}var i=JSON.parse(t.data.airInfo);i.forEach(function(t){if("1"==t.scopeType){var n=t.circleScope.lng.split(","),e=t.circleScope.lat.split(",");f.default.util.extend(t,{lng0:n[0],lng1:n[1],lng2:n[2],lat0:e[0],lat1:e[1],lat2:e[2]})}else"2"==t.scopeType&&t.centers.forEach(function(t){var n=t.lng.split(","),e=t.lat.split(",");f.default.util.extend(t,{lng0:n[0],lng1:n[1],lng2:n[2],lat0:e[0],lat1:e[1],lat2:e[2]})})}),this.flyplan.airInfo=i,t.data.landingInfo=JSON.parse(t.data.landingInfo);var r=t.data.landingInfo;r.map(function(t){var n=this.$store.state.landings.find(function(n){return n.id==t.id});if(n.id==-1){var e=t.lng.split(","),a=t.lat.split(",");f.default.util.extend(n,{lng0:e[0],lng1:e[1],lng2:e[2],lat0:a[0],lat1:a[1],lat2:a[2],location:t.location})}return n}.bind(this)),this.flyplan.landingInfo=r,t.data.contactInfo=JSON.parse(t.data.contactInfo),this.flyplan.contactInfo=t.data.contactInfo,this.flyplan.applyOfficialNo=t.data.applyOfficialNo,this.flyplan.weatherCondition=t.data.weatherCondition,this.flyplan.remark=t.data.remark}.bind(this)})}}}).call(n,e(7))},530:function(t,n,e){n=t.exports=e(2)(),n.push([t.id,"[data-v-584ecd7b]{-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-webkit-perspective:1000}.airinfo_item[data-v-584ecd7b],.landing_item[data-v-584ecd7b]{margin-bottom:10px}.el-radio[data-v-584ecd7b]{float:left;margin:4px;padding-right:15px}.el-radio-group[data-v-584ecd7b]{float:left}.el-select[data-v-584ecd7b]{width:90px}.el-date-editor--date[data-v-584ecd7b]{width:150px}","",{version:3,sources:["/./src/page/flyplan/createPlan0.vue"],names:[],mappings:"AACA,kBAAmB,oCAAoC,mCAAmC,wBAAwB,CACjH,AACD,8DAA8D,kBAAkB,CAC/E,AACD,2BAA2B,WAAW,WAAe,kBAAkB,CACtE,AACD,iCAAiC,UAAU,CAC1C,AACD,4BAA4B,UAAU,CACrC,AACD,uCAAuC,WAAW,CACjD",file:"createPlan0.vue",sourcesContent:["\n*[data-v-584ecd7b]{-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-webkit-perspective:1000\n}\n.airinfo_item[data-v-584ecd7b],.landing_item[data-v-584ecd7b]{margin-bottom:10px\n}\n.el-radio[data-v-584ecd7b]{float:left;margin:4px 4px;padding-right:15px\n}\n.el-radio-group[data-v-584ecd7b]{float:left\n}\n.el-select[data-v-584ecd7b]{width:90px\n}\n.el-date-editor--date[data-v-584ecd7b]{width:150px\n}"],sourceRoot:"webpack://"}])},585:function(t,n,e){var a=e(530);"string"==typeof a&&(a=[[t.id,a,""]]);e(3)(a,{});a.locals&&(t.exports=a.locals)},653:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"plan",attrs:{"element-loading-text":"数据提交中，请稍候..."}},[e("div",{staticClass:"title clear"},[e("p",{staticClass:"left",staticStyle:{"font-size":"18px"}},[t._v("创建管制空域飞行计划")]),t._v(" "),e("div",{staticClass:"right"},[e("el-button",{attrs:{type:"primary"},on:{click:function(n){t.submit("flyplan")}}},[t._v("提交")]),t._v(" "),e("el-button",{on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"plan-form"},[e("el-form",{ref:"flyplan",attrs:{"label-position":"left",model:t.flyplan,rules:t.rules,"label-width":"130px"}},[e("div",{staticClass:"plan-form-title"},[e("div",{staticClass:"devider"}),t._v(" "),e("p",{staticClass:"text"},[t._v("基础信息")])]),t._v(" "),e("div",{staticClass:"plan-form-content"},[e("el-form-item",{attrs:{label:"申请个人/单位"}},[t._v("\n                    "+t._s(t.user.name)+"\n                ")]),t._v(" "),e("el-form-item",{attrs:{label:"计划类型",prop:"planType","auto-complete":"off"}},[e("el-radio-group",{on:{change:t.flyTypeChange},model:{value:t.flyplan.planType,callback:function(n){t.flyplan.planType=n},expression:"flyplan.planType"}},[t._l(t.planTypes,function(t){return e("el-radio",{attrs:{label:t.label}})}),t._v(" "),e("el-input",{staticStyle:{"margin-left":"10px",width:"150px"},attrs:{disabled:t.planTypeInputDisable},model:{value:t.flyplan.planTypeName,callback:function(n){t.flyplan.planTypeName=n},expression:"flyplan.planTypeName"}})],2)],1),t._v(" "),e("el-form-item",{staticClass:"clear",attrs:{label:"使用机型",prop:"planes","auto-complete":"off"}},t._l(t.flyplan.planes,function(n){return e("el-checkbox-group",{staticClass:"left",staticStyle:{"margin-bottom":"5px"},model:{value:n.checked,callback:function(t){n.checked=t},expression:"plane.checked"}},[e("el-checkbox",{staticStyle:{"margin-right":"11px"},attrs:{label:n.name}}),t._v(" "),"其他"==n.name?e("el-input",{staticStyle:{width:"150px"},attrs:{disabled:!n.checked,placeholder:"请输入内容"},model:{value:n.desc,callback:function(t){n.desc=t},expression:"plane.desc"}}):t._e(),t._v(" "),e("el-input-number",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{disabled:!n.checked,min:0,max:99},model:{value:n.number,callback:function(t){n.number=t},expression:"plane.number"}})],1)})),t._v(" "),e("el-form-item",{attrs:{label:"使用时间",prop:"planTime"}},[e("el-date-picker",{staticStyle:{"z-index":"-1"},attrs:{type:"date",placeholder:"选择日期",readonly:"","picker-options":t.pickerOptions},model:{value:t.flyplan.planTime.date,callback:function(n){t.flyplan.planTime.date=n},expression:"flyplan.planTime.date"}}),t._v(" "),e("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"请选择"},model:{value:t.flyplan.planTime.beginHour,callback:function(n){t.flyplan.planTime.beginHour=n},expression:"flyplan.planTime.beginHour"}},t._l(t.selectableFlyBeginHours,function(t){return e("el-option",{attrs:{label:t.label,value:t.label}})})),t._v(" "),e("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"请选择"},model:{value:t.flyplan.planTime.beginMinute,callback:function(n){t.flyplan.planTime.beginMinute=n},expression:"flyplan.planTime.beginMinute"}},t._l(t.selectableFlyBeginMinutes,function(t){return e("el-option",{attrs:{label:t.label,value:t.label}})})),t._v(" "),e("strong",[t._v("至")]),t._v(" "),e("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"请选择"},model:{value:t.flyplan.planTime.endHour,callback:function(n){t.flyplan.planTime.endHour=n},expression:"flyplan.planTime.endHour"}},t._l(t.selectableFlyEndHours,function(t){return e("el-option",{attrs:{label:t.label,value:t.label}})})),t._v(" "),e("el-select",{staticStyle:{width:"90"},attrs:{placeholder:"请选择"},model:{value:t.flyplan.planTime.endMinute,callback:function(n){t.flyplan.planTime.endMinute=n},expression:"flyplan.planTime.endMinute"}},t._l(t.selectableFlyEndMinutes,function(t){return e("el-option",{attrs:{label:t.label,value:t.label}})}))],1),t._v(" "),e("el-form-item",{attrs:{label:"空域批文编号",prop:"applyOfficialNo"}},[e("el-input",{staticStyle:{width:"150px"},model:{value:t.flyplan.applyOfficialNo,callback:function(n){t.flyplan.applyOfficialNo=n},expression:"flyplan.applyOfficialNo"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"计划空域及高度",prop:"airInfo"}},[t._l(t.flyplan.airInfo,function(n,a){return e("div",{staticStyle:{"border-bottom":"dashed 1px #f0f0f0","margin-bottom":"10px"}},[e("el-form-item",{staticClass:"airinfo_item",attrs:{label:"位置描述"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:n.location,callback:function(t){n.location=t},expression:"airInfo.location"}}),t._v(" "),e("el-button",{staticStyle:{color:"#ff0000",float:"right","margin-right":"100px"},attrs:{type:"text"},on:{click:function(n){t.removeAirInfo(a)}}},[t._v("删除\n                            ")])],1),t._v(" "),e("el-form-item",{staticClass:"airinfo_item",attrs:{label:"真    高"}},[e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0},model:{value:n.high,callback:function(t){n.high=t},expression:"airInfo.high"}}),t._v("\n                            米\n                        ")],1),t._v(" "),e("el-form-item",{staticClass:"airinfo_item",attrs:{label:"飞行范围"}},[e("el-select",{staticClass:"airinfo_item",staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:n.scopeType,callback:function(t){n.scopeType=t},expression:"airInfo.scopeType"}},[e("el-option",{attrs:{value:1,label:"圆形空域"}}),t._v(" "),e("el-option",{attrs:{label:"多边形空域",value:2}})],1),t._v(" "),"1"==n.scopeType?e("div",[e("div",{staticClass:"airinfo_item clear"},[e("div",{staticClass:"left",staticStyle:{"margin-left":"114px"}},[t._v("以")]),t._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-right":"10px","margin-bottom":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[t._v("经")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:n.lng0,callback:function(t){n.lng0=t},expression:"airInfo.lng0"}}),t._v(" "),e("span",[t._v("度")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lng1,callback:function(t){n.lng1=t},expression:"airInfo.lng1"}}),t._v(" "),e("span",[t._v("分")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lng2,callback:function(t){n.lng2=t},expression:"airInfo.lng2"}}),t._v(" "),e("span",[t._v("秒")])],1),t._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-left":"130px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[t._v("纬")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:n.lat0,callback:function(t){n.lat0=t},expression:"airInfo.lat0"}}),t._v(" "),e("span",[t._v("度")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lat1,callback:function(t){n.lat1=t},expression:"airInfo.lat1"}}),t._v(" "),e("span",[t._v("分")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lat2,callback:function(t){n.lat2=t},expression:"airInfo.lat2"}}),t._v(" "),e("span",[t._v("秒")])],1),t._v(" "),e("div",{staticClass:"left"},[t._v("为中心")])]),t._v(" "),e("div",[e("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[t._v("半径为 ")]),t._v(" "),e("el-input-number",{staticStyle:{width:"80px","margin-left":"80px"},attrs:{controls:!1,debounce:0,min:0},model:{value:n.radius,callback:function(t){n.radius=t},expression:"airInfo.radius"}}),t._v("\n                                    米。\n                                ")],1)]):t._e(),t._v(" "),"2"==n.scopeType?e("div",[e("div",{staticClass:"airinfo_item"},[e("span",[t._v("范围为以下")]),t._v(" "),e("span",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(t._s(n.centers.length))]),t._v(" "),e("el-button-group",[e("el-button",{attrs:{disabled:n.centers.length<4,icon:"minus",size:"small"},on:{click:function(e){t.removeLastCenter(n.centers)}}}),t._v(" "),e("el-button",{attrs:{disabled:n.centers.length>=10,icon:"plus",size:"small"},on:{click:function(e){t.addCenter(n.centers)}}})],1),t._v(" "),e("span",[t._v("点连线范围内，拐点坐标分别为：")])],1),t._v(" "),t._l(n.centers,function(a,l){return e("div",{staticClass:"airinfo_item"},[e("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[t._v("经")]),t._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:a.lng0,callback:function(t){a.lng0=t},expression:"center.lng0"}}),t._v(" "),e("span",[t._v("度")]),t._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.lng1,callback:function(t){a.lng1=t},expression:"center.lng1"}}),t._v(" "),e("span",[t._v("分")]),t._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.lng2,callback:function(t){a.lng2=t},expression:"center.lng2"}}),t._v(" "),e("span",[t._v("秒")])],1),t._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[t._v("纬")]),t._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:a.lat0,callback:function(t){a.lat0=t},expression:"center.lat0"}}),t._v(" "),e("span",[t._v("度")]),t._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.lat1,callback:function(t){a.lat1=t},expression:"center.lat1"}}),t._v(" "),e("span",[t._v("分")]),t._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.lat2,callback:function(t){a.lat2=t},expression:"center.lat2"}}),t._v(" "),e("span",[t._v("秒")])],1),t._v(" "),e("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(e){t.removeCenter(n.centers,l)}}},[t._v("删除")])],1)})],2):t._e()],1)],1)}),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:t.addAirInfo}},[t._v("+ 添加空域")])],2),t._v(" "),e("el-form-item",{attrs:{label:"主起降场",prop:"landingInfo"}},[t._l(t.flyplan.landingInfo,function(n,a){return e("div",{staticStyle:{"border-bottom":"dashed 1px #f0f0f0","margin-bottom":"50px"}},[e("el-form-item",{staticClass:"landing_item",attrs:{label:"名称"}},[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},on:{change:function(e){t.handleChangeLanding(n)}},model:{value:n.id,callback:function(t){n.id=t},expression:"landingInfo.id"}},t._l(t.landings,function(t){return e("el-option",{attrs:{label:t.name,value:t.id}})})),t._v(" "),e("el-button",{staticStyle:{color:"#ff0000",float:"right","margin-right":"100px"},attrs:{type:"text"},on:{click:function(n){t.removeLanding(a)}}},[t._v("删除\n                            ")])],1),t._v(" "),n.id==-1?e("el-form-item",{staticClass:"landing_item",attrs:{label:"起降场位置描述"}},[e("div",{staticStyle:{"margin-left":"0px"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入内容"},model:{value:n.location,callback:function(t){n.location=t},expression:"landingInfo.location"}}),t._v(" "),e("div",{staticStyle:{color:"#3366ff"}},[e("i",[t._v("请以选择空域内起降场附近的地标或建设物为参考")])])],1)]):t._e(),t._v(" "),n.id==-1?e("el-form-item",{staticClass:"landing_item",attrs:{label:"起降场坐标"}},[e("div",{staticStyle:{"margin-left":"0px"}},[e("div",{staticClass:"left"},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[t._v("经")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:n.lng0,callback:function(t){n.lng0=t},expression:"landingInfo.lng0"}}),t._v(" "),e("span",[t._v("度")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lng1,callback:function(t){n.lng1=t},expression:"landingInfo.lng1"}}),t._v(" "),e("span",[t._v("分")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lng2,callback:function(t){n.lng2=t},expression:"landingInfo.lng2"}}),t._v(" "),e("span",[t._v("秒")])],1),t._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-top":"10px","margin-left":"129px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[t._v("纬")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:n.lat0,callback:function(t){n.lat0=t},expression:"landingInfo.lat0"}}),t._v(" "),e("span",[t._v("度")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lat1,callback:function(t){n.lat1=t},expression:"landingInfo.lat1"}}),t._v(" "),e("span",[t._v("分")]),t._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lat2,callback:function(t){n.lat2=t},expression:"landingInfo.lat2"}}),t._v(" "),e("span",[t._v("秒")])],1)])]):t._e()],1)}),t._v(" "),e("el-form-item",{staticStyle:{width:"300px",position:"absolute",top:"230px",left:"-136px"},attrs:{label:"备用起降场",prop:""}},[e("el-button",{attrs:{type:"text"},on:{click:t.addLanding}},[t._v("+ 添加起降场")])],1)],2)],1),t._v(" "),e("div",{staticClass:"plan-form-title"},[e("div",{staticClass:"devider"}),t._v(" "),e("p",{staticClass:"text"},[t._v("联系方式")])]),t._v(" "),e("div",{staticClass:"plan-form-content clear"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"单位联系人",prop:"contactInfo.unitContactName"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:t.flyplan.contactInfo.unitContactName,callback:function(n){t.flyplan.contactInfo.unitContactName=n},expression:"flyplan.contactInfo.unitContactName"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"联系电话",prop:"contactInfo.unitContactPhone"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:t.flyplan.contactInfo.unitContactPhone,callback:function(n){t.flyplan.contactInfo.unitContactPhone=n},expression:"flyplan.contactInfo.unitContactPhone"}})],1)],1)],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"现场联系人",prop:"contactInfo.fieldContactName"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:t.flyplan.contactInfo.fieldContactName,callback:function(n){t.flyplan.contactInfo.fieldContactName=n},expression:"flyplan.contactInfo.fieldContactName"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"联系号码",prop:"contactInfo.fieldContactPhone"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:t.flyplan.contactInfo.fieldContactPhone,callback:function(n){t.flyplan.contactInfo.fieldContactPhone=n},expression:"flyplan.contactInfo.fieldContactPhone"}})],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"plan-form-title"},[e("div",{staticClass:"devider"}),t._v(" "),e("p",{staticClass:"text"},[t._v("其他")])]),t._v(" "),e("div",{staticClass:"plan-form-content clear"},[e("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"气象条件"}},[e("el-input",{attrs:{placeholder:"天气状态（如晴天）、风速（南风四级）、能见度（1000-4000米）"},model:{value:t.flyplan.weatherCondition,callback:function(n){t.flyplan.weatherCondition=n},expression:"flyplan.weatherCondition"}})],1),t._v(" "),e("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"其他说明事项 "}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入内容，最大允许填写100个字",maxlength:100},on:{input:function(n){t.descInput()}},model:{value:t.flyplan.remark,callback:function(n){t.flyplan.remark=n},expression:"flyplan.remark"}}),t._v(" "),e("span",{staticStyle:{color:"#CCCCCC","font-size":"12px"}},[t._v("可输入数字："+t._s(t.remnant)+"/100")])],1)],1),t._v(" "),e("el-form-item",[e("el-button",{staticStyle:{padding:"10px 50px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交\n                ")])],1)],1)],1)])},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tips"},[t._v("提示:带"),e("span",{attrs:{color:"red"}},[t._v("*")]),t._v("号为必填项")])}]}}});