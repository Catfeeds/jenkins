webpackJsonp([10,34,36,37],{19:function(a,t,e){t=a.exports=e(2)(),t.push([a.id,".plan .title{padding:20px;color:#717171;border-bottom:1px solid #9e9e9e;margin-bottom:10px}.plan .title p{line-height:36px}.plan .title button{width:100px}.plan .tips{background:#f0f0f0;color:#7f7f7f;padding:5px 20px;margin-bottom:15px}.plan-form-title{position:relative;height:20px;line-height:20px}.plan-form-title .text{position:absolute;top:0;left:15px;font-size:16px;color:#bcbcbc;z-index:2;padding:0 5px;background-color:#fff}.plan-form-title .devider{position:absolute;top:50%;left:0;height:1px;width:100%;background-color:#f0f0f0;z-index:1}.plan-form-content{padding:20px}","",{version:3,sources:["/./src/style/plan.css"],names:[],mappings:"AAGA,aACI,aAAa,AACb,cAAc,AACd,gCAAgC,AAChC,kBAAmB,CACtB,AACD,eACI,gBAAiB,CACpB,AAED,oBACI,WAAY,CACf,AAED,YACI,mBAAmB,AACnB,cAAc,AACd,iBAAiB,AACjB,kBAAmB,CACtB,AAMD,iBACI,kBAAkB,AAClB,YAAY,AACZ,gBAAiB,CACpB,AAED,uBACI,kBAAkB,AAClB,MAAQ,AACR,UAAU,AACV,eAAe,AACf,cAAc,AACd,UAAW,AACX,cAAc,AACd,qBAAsB,CACzB,AAED,0BACI,kBAAkB,AAClB,QAAQ,AACR,OAAO,AACP,WAAW,AACX,WAAW,AACX,yBAAyB,AACzB,SAAW,CACd,AAED,mBACI,YAAa,CAChB",file:"plan.css",sourcesContent:["/*飞行计划、空域申请页面样式*/\r\n\r\n\r\n.plan .title{\r\n    padding:20px;\r\n    color:#717171;\r\n    border-bottom:solid 1px #9e9e9e;\r\n    margin-bottom:10px;\r\n}\r\n.plan .title p{\r\n    line-height:36px;\r\n}\r\n\r\n.plan .title button{\r\n    width:100px;\r\n}\r\n\r\n.plan .tips{\r\n    background:#f0f0f0;\r\n    color:#7f7f7f;\r\n    padding:5px 20px;\r\n    margin-bottom:15px;\r\n}\r\n\r\n.plan-form{\r\n\r\n}\r\n\r\n.plan-form-title{\r\n    position:relative;\r\n    height:20px;\r\n    line-height:20px;\r\n}\r\n\r\n.plan-form-title .text{\r\n    position:absolute;\r\n    top:0px;\r\n    left:15px;\r\n    font-size:16px;\r\n    color:#bcbcbc;\r\n    z-index: 2;\r\n    padding:0 5px;\r\n    background-color:#fff;\r\n}\r\n\r\n.plan-form-title .devider{\r\n    position:absolute;\r\n    top:50%;\r\n    left:0;\r\n    height:1px;\r\n    width:100%;\r\n    background-color:#f0f0f0;\r\n    z-index: 1;\r\n}\r\n\r\n.plan-form-content{\r\n    padding:20px;\r\n}"],sourceRoot:"webpack://"}])},20:function(a,t,e){var n=e(19);"string"==typeof n&&(n=[[a.id,n,""]]);e(3)(n,{});n.locals&&(a.exports=n.locals)},22:function(a,t){"use strict";function e(a){return("00"+a).substr(a.length)}function n(a,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds()};for(var l in n)if(new RegExp("("+l+")").test(t)){var i=n[l]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?i:e(i))}return t}function l(a,t,e,n){var l,i,r;r=6371,t=t*Math.PI/180,n=n*Math.PI/180,l=t-n,i=(a-e)*Math.PI/180;var o,s,p;return s=Math.sin(l/2),p=Math.sin(i/2),o=2*r*Math.asin(Math.sqrt(s*s+Math.cos(t)*Math.cos(n)*p*p))}Object.defineProperty(t,"__esModule",{value:!0}),t.default={formatDate:n,distance:l}},227:function(a,t,e){(function(a){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(t,"__esModule",{value:!0});var l=e(68),i=n(l),r=e(59),o=n(r);e(20);var s=e(22),p=n(s),c=e(7),d=n(c),u=e(12),m=n(u);t.default={methods:{addSlaveLanding:function(){var a,t=(a={id:"-1",name:"自选起降场",location:"",lng0:0,lng1:0},(0,o.default)(a,"lng1",0),(0,o.default)(a,"lat0",0),(0,o.default)(a,"lat1",0),(0,o.default)(a,"lat2",0),a);this.airapply.landingInfo.slave=t},removeSlaveLanding:function(){this.airapply.landingInfo.slave=null},addAirInfo:function(){var a={location:"",high:"0",scopeType:1,circleScope:{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0,radius:0},centers:[{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0}]};this.airapply.airInfo.push(a)},removeAirInfo:function(a){this.airapply.airInfo.length<2||this.airapply.airInfo.splice(a,1)},addCenter:function(a){a.push({lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0})},removeLastCenter:function(a){a.splice(a.length-1,1)},removeCenter:function(a,t){return a.length<4?void this.$message("请至少填写3个拐点坐标"):void a.splice(t,1)},handleChangeLanding:function(a){var t=this.landings.find(function(t){return t.id==a.id});m.default.util.extend(a,t)},flyTypeChange:function(a){"其他"!=a?this.planTypeInputDisable=!0:this.planTypeInputDisable=!1},handleFileChange:function(a,t){this.airapply.file=t.slice(-1)},handleFileUploadSuccess:function(a,t,e){this.airapply.attachInfo={name:a.data[0].srcName,url:a.data[0].fullUrl}},handleFileUploadFail:function(a,t,e){this.$message.error("附件上传失败，请重试")},beforeFileUpload:function(a){var t="application/pdf"==a.type,e=a.size/1024/1024<10;return t?!!e||(this.$message.error("文件大小不能超过10M"),!1):(this.$message.error("只允许上传pdf文件"),!1)},back:function(){this.$router.go(-1)},submit:function(){var t=this.$refs.airapply,e=!0;for(var n in this.rules)t.validateField(n,function(a){""!=a&&(this.$message.error(a,5e3),e=!1)}.bind(this));e&&(this.isLoading=!0,a.ajax({url:d.default.AIRPLAN,method:"post",contentType:"application/json",data:this.getRequestBody(),success:function(a){window.location.href="#/apply"},complete:function(){this.isLoading=!1}.bind(this)}))},getRequestBody:function(){var a=this.airapply,t=p.default.formatDate(a.daterange[0],"yyyy-MM-dd"),e=p.default.formatDate(a.daterange[1],"yyyy-MM-dd"),n=a.airInfo.map(function(a){var t={location:a.location,high:a.high,scopeType:a.scopeType};if(1==a.scopeType){var e={lng:a.lng0+","+a.lng1+","+a.lng2,lat:a.lat0+","+a.lat1+","+a.lat2,radius:a.radius};t.circleScope=e}else if(2==a.scopeType){var n=a.centers.map(function(a){return{lng:a.lng0+","+a.lng1+","+a.lng2,lat:a.lat0+","+a.lat1+","+a.lat2}});t.centers=n}return t}),l=a.landingInfo.master,r={id:l.id,name:l.name,location:l.location};r.id==-1&&(r.lng=l.lng0+","+l.lng1+","+l.lng2,r.lat=l.lat0+","+l.lat1+","+l.lat2);var o=a.landingInfo.slave;if(null!=o){var s={id:o.id,name:o.name,location:o.location};s.id==-1&&(s.lng=o.lng0+","+o.lng1+","+o.lng2,s.lat=o.lat0+","+o.lat1+","+o.lat2),o=s}var c=m.default.util.extend({},a.contactInfo),d=a.planes.filter(function(a){return a.number>0}).map(function(a){return{name:"其他"==a.name?a.desc:a.name,number:a.number}}),u={type:a.type,planType:"其他"==a.planType?a.planTypeName:a.planType,planes:d,beginTime:t,endTime:e,airInfo:n,landingInfo:{master:r,slave:s},contactInfo:c,weatherCondition:a.weatherCondition,flyRule:a.flyRule,attachInfo:a.attachInfo,remark:a.remark};return(0,i.default)(u)}},data:function(){var a=this,t=function(t,e,n){return"其他"==a.airapply.planType&&""==a.airapply.planTypeName?n(new Error(t.message)):n()},e=function(t,e,n){var l=a.airapply.planes.some(function(a){return 1==a.checked&&a.number>0}),i=a.airapply.planes.some(function(a){return 1==a.checked&&0==a.number});return!l||i?n(new Error(t.message)):n()},n=function(t,e,n){return""==a.airapply.daterange||null==a.airapply.daterange?n(new Error(t.message)):void n()},l=function(t,e,n){return a.airapply.contactInfo.unitContact==a.airapply.contactInfo.emergencyContactName?n(new Error(t.message)):void n()},i=function(t,e,n){var l=/^1[34578]\d{9}$/;return l.test(a.airapply.contactInfo.unitContact)?void n():n(new Error("请填写正确手机号"))},r=function(t,e,n){var l=/^1[34578]\d{9}$/;return l.test(a.airapply.contactInfo.emergencyContactPhone)?void n():n(new Error("请填写正确手机号"))},o=function(t,e,n){return a.airapply.contactInfo.unitContact==a.airapply.contactInfo.emergencyContactPhone?n(new Error(t.message)):void n()},s=function(t,e,n){var l=a.airapply.airInfo.findIndex(function(a){return""==a.location});return l!=-1?n(new Error(t.message)):void n()},p=function(t,e,n){var l=a.airapply.landingInfo.master.location;return""==l||null==l?n(new Error(t.message)):void n()},c=function(t,e,n){var l=a.airapply.landingInfo.slave;if(null!=l){var i=l.location;if(""==i||null==i)return n(new Error(t.message))}n()},u=function(t,e,n){var l=a.airapply.attachInfo;return l.length>0&&"finished"==l[0].status?n(new Error(t.message)):void n()},m=this.$store.state.planeTypes.map(function(a){return{name:a.label,number:0,checked:!1}});return{rules:{planType:[{validator:t,message:"请填写计划类型",trigger:"blur",required:!0}],planes:[{validator:e,message:"请至少选择一种机型，且机型数量不能为0",trigger:"blur",required:!0}],planTime:[{validator:n,required:!0,message:"请输入完整的计划开始时间和结束时间",trigger:"blur"}],airInfo:[{required:!0,message:"空域位置不能为空",trigger:"blur",validator:s}],"landingInfo.master":[{required:!0,message:"主起降场位置不能为空",trigger:"blur",validator:p}],"landingInfo.slave":[{message:"备起降场位置不能为空",trigger:"blur",validator:c}],"contactInfo.unitContactName":[{required:!0,message:"请输入单位联系人名字",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],"contactInfo.unitContact":[{required:!0,message:"请输入单位联系人手机号码",trigger:"blur"},{min:11,max:11,validator:i,trigger:"blur"}],"contactInfo.emergencyContactName":[{required:!0,message:"请输入紧急联系人名字",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"},{validator:l,message:"单位联系人不能与紧急联系人为同一人",trigger:"blur"}],"contactInfo.emergencyContactPhone":[{required:!0,message:"请输入紧急联系人手机号码",trigger:"blur"},{min:11,max:11,validator:r,trigger:"blur"},{validator:o,message:"单位联系人的手机号码不能与紧急联系人的手机号码相同",trigger:"blur"}],attachment:[{required:!0,message:"附件不能为空",trigger:"blur",validator:u}]},uploadFileUrl:d.default.GET_UPLOAD,flyrules:[{label:"目视飞行"},{label:"仪表飞行"}],isLoading:!1,pickerOptions:{disabledDate:function(a){return a.getTime()<Date.now()}},planTypeInputDisable:!0,airapply:{planType:this.$store.state.planTypes.plan0[0].label,planTypeName:"",planes:m,daterange:"",planTime:{date:new Date((new Date).getTime()+864e5)},airInfo:[{location:"",high:"0",scopeType:1,circleScope:{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0,radius:0},centersLength:3,centers:[{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0},{lng0:0,lng1:0,lng2:0,lat0:0,lat1:0,lat2:0}]}],landingInfo:{master:{id:"-1",location:"",name:"自选起降场",lat0:0,lat1:0,lat2:0,lng0:0,lng1:0,lng2:0},slave:null},contactInfo:{unitContactName:"",unitContact:"",emergencyContactName:"",emergencyContactPhone:""},file:[],flyRule:"目视飞行",remark:"",attachInfo:{name:"",url:""}}}},computed:{planTypes:function a(){var a=this.$store.state.planTypes.airapply;return a},landings:function a(){var a=this.$store.state.landings;return a},selectableFlyBeginHours:function(){var a=this.$store.state.flyHours;return a},selectableFlyBeginMinutes:function(){var a=this.$store.state.flyMinutes;return a},selectableFlyEndHours:function(){var a=this.$store.state.flyHours;return a.filter(function(a){return this.airapply.planTime.beginMinute<50?parseInt(a.label)>=parseInt(this.airapply.planTime.beginHour):parseInt(a.label)>=parseInt(this.airapply.planTime.beginHour)+1}.bind(this))},selectableFlyEndMinutes:function(){var a=this.$store.state.flyMinutes;return a.filter(function(a){return parseInt(this.airapply.planTime.beginHour)!=parseInt(this.airapply.planTime.endHour)||parseInt(a.label)>parseInt(this.airapply.planTime.beginMinute)}.bind(this))}},created:function(){this.user=this.$store.getters.getSession},mounted:function(){1!=this.user.type&&2!=this.user.type||this.$alert("该模块暂未开放","温馨提示",{confirmButtonText:"确定",type:"warning"});var t=this.$route.params.tmplCode;void 0!=t&&a.ajax({url:d.default.AIRPLAN+"/"+t,method:"get",dataType:"json",success:function(a){var t=a.data.planType,e=this.$store.state.planTypes.plan0.findIndex(function(a){return a==a.label});if(e==-1?(this.airapply.planType="其他",this.planTypeName=t):this.airapply.planType=t,a.data.planes=JSON.parse(a.data.planes),a.data.planes=a.data.planes.filter(function(a){return a.number>0}),this.airapply.planes.forEach(function(t){var e=a.data.planes.findIndex(function(a){return a.name==t.name});e!==-1&&(t.checked=!0,t.number=a.data.planes[e].number,a.data.planes.splice(e,1))}),a.data.planes.length>0){var n=a.data.planes[0],l=this.airapply.planes.find(function(a){return"其他"==a.name});l.desc=n.name,l.number=n.number,l.checked=n.number>0}var i=JSON.parse(a.data.airInfo)[0];this.selectedProvince=i.provinceCode,this.selectedCity=i.cityCode;var r=this.$store.state.airspaces.find(function(a){return a.id==i.id});this.airapply.airInfo[0]=r,a.data.landingInfo=JSON.parse(a.data.landingInfo);var o=a.data.landingInfo.master;if(o.id==-1){var s=o.lng.split(","),p=o.lat.split(",");m.default.util.extend(o,{lng0:s[0],lng1:s[1],lng2:s[2],lat0:p[0],lat1:p[1],lat2:p[2]})}this.airapply.landingInfo.master=o;var c=a.data.landingInfo.slave;if(c.id==-1&&null!=c){var s=c.lng.split(","),p=c.lat.split(",");m.default.util.extend(c,{lng0:s[0],lng1:s[1],lng2:s[2],lat0:p[0],lat1:p[1],lat2:p[2]})}this.airapply.landingInfo.slave=c,a.data.contactInfo=JSON.parse(a.data.contactInfo),a.data.contactInfo.trainer=a.data.contactInfo.trainer.split(","),this.airapply.contactInfo=a.data.contactInfo}.bind(this)})}}}).call(t,e(6))},518:function(a,t,e){t=a.exports=e(2)(),t.push([a.id,"[data-v-d682e824]{-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-webkit-perspective:1000}.airinfo_item[data-v-d682e824],.landing_item[data-v-d682e824]{margin-bottom:10px}.el-radio[data-v-d682e824]{float:left;margin:4px;padding-right:15px}.el-radio-group[data-v-d682e824]{float:left}","",{version:3,sources:["/./src/page/flyplan/airApply.vue"],names:[],mappings:"AACA,kBAAmB,oCAAoC,mCAAmC,wBAAwB,CACjH,AACD,8DAA8D,kBAAkB,CAC/E,AACD,2BAA2B,WAAW,WAAe,kBAAkB,CACtE,AACD,iCAAiC,UAAU,CAC1C",file:"airApply.vue",sourcesContent:["\n*[data-v-d682e824]{-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-webkit-perspective:1000\n}\n.airinfo_item[data-v-d682e824],.landing_item[data-v-d682e824]{margin-bottom:10px\n}\n.el-radio[data-v-d682e824]{float:left;margin:4px 4px;padding-right:15px\n}\n.el-radio-group[data-v-d682e824]{float:left\n}"],sourceRoot:"webpack://"}])},574:function(a,t,e){var n=e(518);"string"==typeof n&&(n=[[a.id,n,""]]);e(3)(n,{});n.locals&&(a.exports=n.locals)},583:function(a,t,e){e(574);var n=e(5)(e(227),e(641),"data-v-d682e824",null);a.exports=n.exports},641:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:a.isLoading,expression:"isLoading"}],staticClass:"plan",attrs:{"element-loading-text":"数据提交中，请稍候..."}},[e("div",{staticClass:"title clear"},[e("p",{staticClass:"left",staticStyle:{"font-size":"18px"}},[a._v("创建空域申请")]),a._v(" "),e("div",{staticClass:"right"},[e("el-button",{attrs:{type:"primary",disabled:!0},on:{click:function(t){a.submit("airapply")}}},[a._v("提交")]),a._v(" "),e("el-button",{on:{click:a.back}},[a._v("返回")])],1)]),a._v(" "),a._m(0),a._v(" "),e("div",{staticClass:"plan-form"},[e("el-form",{ref:"airapply",attrs:{"label-position":"left",model:a.airapply,rules:a.rules,"label-width":"130px"}},[e("div",{staticClass:"plan-form-title"},[e("div",{staticClass:"devider"}),a._v(" "),e("p",{staticClass:"text"},[a._v("基础信息")])]),a._v(" "),e("div",{staticClass:"plan-form-content"},[e("el-form-item",{attrs:{label:"申请个人/单位"}},[a._v("\n                    "+a._s(a.user.name)+"\n                ")]),a._v(" "),e("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"计划类型",prop:"planType","auto-complete":"off"}},[e("el-radio-group",{on:{change:a.flyTypeChange},model:{value:a.airapply.planType,callback:function(t){a.airapply.planType=t},expression:"airapply.planType"}},[a._l(a.planTypes,function(a){return e("el-radio",{attrs:{label:a.label}})}),a._v(" "),e("el-input",{staticStyle:{"margin-left":"10px",width:"150px"},attrs:{disabled:a.planTypeInputDisable},model:{value:a.airapply.planTypeName,callback:function(t){a.airapply.planTypeName=t},expression:"airapply.planTypeName"}})],2)],1),a._v(" "),e("el-form-item",{staticClass:"clear",attrs:{label:"使用机型",prop:"planes","auto-complete":"off"}},a._l(a.airapply.planes,function(t){return e("el-checkbox-group",{staticClass:"left",staticStyle:{"margin-bottom":"5px"},model:{value:t.checked,callback:function(a){t.checked=a},expression:"plane.checked"}},[e("el-checkbox",{staticStyle:{"margin-right":"11px"},attrs:{label:t.name}}),a._v(" "),"其他"==t.name?e("el-input",{staticStyle:{width:"150px"},attrs:{disabled:!t.checked,placeholder:"请输入内容"},model:{value:t.desc,callback:function(a){t.desc=a},expression:"plane.desc"}}):a._e(),a._v(" "),e("el-input-number",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{disabled:!t.checked,min:0,max:99},model:{value:t.number,callback:function(a){t.number=a},expression:"plane.number"}})],1)})),a._v(" "),e("el-form-item",{attrs:{label:"使用时间",prop:"planTime"}},[e("el-date-picker",{attrs:{type:"daterange","picker-options":a.pickerOptions,placeholder:"选择日期范围"},model:{value:a.airapply.daterange,callback:function(t){a.airapply.daterange=t},expression:"airapply.daterange"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"计划空域及高度",prop:"airInfo"}},[a._l(a.airapply.airInfo,function(t,n){return e("div",{staticStyle:{"border-bottom":"dashed 1px #f0f0f0","margin-bottom":"10px"}},[e("el-form-item",{staticClass:"airinfo_item",attrs:{label:"位置描述"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:t.location,callback:function(a){t.location=a},expression:"airInfo.location"}}),a._v(" "),e("el-button",{staticStyle:{color:"#ff0000",float:"right","margin-right":"100px"},attrs:{type:"text"},on:{click:function(t){a.removeAirInfo(n)}}},[a._v("删除\n                            ")])],1),a._v(" "),e("el-form-item",{staticClass:"airinfo_item",attrs:{label:"真    高"}},[e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0},model:{value:t.high,callback:function(a){t.high=a},expression:"airInfo.high"}}),a._v("  米\n                        ")],1),a._v(" "),e("el-form-item",{staticClass:"airinfo_item",attrs:{label:"飞行范围"}},[e("el-select",{staticClass:"airinfo_item",staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:t.scopeType,callback:function(a){t.scopeType=a},expression:"airInfo.scopeType"}},[e("el-option",{attrs:{value:1,label:"圆形空域"}}),a._v(" "),e("el-option",{attrs:{label:"多边形空域",value:2}})],1),a._v(" "),1==t.scopeType?e("div",[e("div",{staticClass:"airinfo_item clear"},[e("div",{staticClass:"left",staticStyle:{"margin-left":"114px"}},[a._v("以")]),a._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-right":"10px","margin-bottom":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("经")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:t.lng0,callback:function(a){t.lng0=a},expression:"airInfo.lng0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:t.lng1,callback:function(a){t.lng1=a},expression:"airInfo.lng1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:t.lng2,callback:function(a){t.lng2=a},expression:"airInfo.lng2"}}),a._v(" "),e("span",[a._v("秒")])],1),a._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-left":"130px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("纬")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:t.lat0,callback:function(a){t.lat0=a},expression:"airInfo.lat0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:t.lat1,callback:function(a){t.lat1=a},expression:"airInfo.lat1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:t.lat2,callback:function(a){t.lat2=a},expression:"airInfo.lat2"}}),a._v(" "),e("span",[a._v("秒")])],1),a._v(" "),e("div",{staticClass:"left"},[a._v("为中心")])]),a._v(" "),e("div",[e("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[a._v("半径为 ")]),a._v(" "),e("el-input-number",{staticStyle:{width:"80px","margin-left":"80px"},attrs:{controls:!1,debounce:0,min:0},model:{value:t.radius,callback:function(a){t.radius=a},expression:"airInfo.radius"}}),a._v("\n                                    米。\n                                ")],1)]):a._e(),a._v(" "),2==t.scopeType?e("div",[e("div",{staticClass:"airinfo_item"},[e("span",[a._v("范围为以下")]),a._v(" "),e("span",{staticStyle:{"font-size":"18px","font-weight":"700"}},[a._v(a._s(t.centers.length))]),a._v(" "),e("el-button-group",[e("el-button",{attrs:{disabled:t.centers.length<4,icon:"minus",size:"small"},on:{click:function(e){a.removeLastCenter(t.centers)}}}),a._v(" "),e("el-button",{attrs:{disabled:t.centers.length>=10,icon:"plus",size:"small"},on:{click:function(e){a.addCenter(t.centers)}}})],1),a._v(" "),e("span",[a._v("点连线范围内，拐点坐标分别为：")])],1),a._v(" "),a._l(t.centers,function(n,l){return e("div",{staticClass:"airinfo_item"},[e("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("经")]),a._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:n.lng0,callback:function(a){n.lng0=a},expression:"center.lng0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lng1,callback:function(a){n.lng1=a},expression:"center.lng1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lng2,callback:function(a){n.lng2=a},expression:"center.lng2"}}),a._v(" "),e("span",[a._v("秒")])],1),a._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-right":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("纬")]),a._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:n.lat0,callback:function(a){n.lat0=a},expression:"center.lat0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lat1,callback:function(a){n.lat1=a},expression:"center.lat1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{width:"60px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:n.lat2,callback:function(a){n.lat2=a},expression:"center.lat2"}}),a._v(" "),e("span",[a._v("秒")])],1),a._v(" "),e("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(e){a.removeCenter(t.centers,l)}}},[a._v("删除\n                                    ")])],1)})],2):a._e()],1)],1)}),a._v(" "),e("el-button",{attrs:{type:"text"},on:{click:a.addAirInfo}},[a._v("+ 添加空域")])],2),a._v(" "),e("el-form-item",{attrs:{label:"主起降场",prop:"landingInfo.master"}},[e("div",[e("el-form-item",{staticClass:"landing_item",attrs:{label:"名称"}},[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},on:{change:function(t){a.handleChangeLanding(a.airapply.landingInfo.master)}},model:{value:a.airapply.landingInfo.master.id,callback:function(t){a.airapply.landingInfo.master.id=t},expression:"airapply.landingInfo.master.id"}},a._l(a.landings,function(a){return e("el-option",{attrs:{label:a.name,value:a.id}})}))],1),a._v(" "),a.airapply.landingInfo.master.id==-1?e("el-form-item",{staticClass:"landing_item",attrs:{label:"起降场位置描述"}},[e("div",{staticStyle:{"margin-left":"0px"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入内容"},model:{value:a.airapply.landingInfo.master.location,callback:function(t){a.airapply.landingInfo.master.location=t},expression:"airapply.landingInfo.master.location"}}),a._v(" "),e("div",{staticStyle:{color:"#3366ff"}},[e("i",[a._v("请以选择空域内起降场附近的地标或建设物为参考")])])],1)]):a._e(),a._v(" "),a.airapply.landingInfo.master.id==-1?e("el-form-item",{staticClass:"landing_item",attrs:{label:"起降场坐标"}},[e("div",{staticStyle:{"margin-left":"130px"}},[e("div",{staticClass:"left"},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("经")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:a.airapply.landingInfo.master.lng0,callback:function(t){a.airapply.landingInfo.master.lng0=t},expression:"airapply.landingInfo.master.lng0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.master.lng1,callback:function(t){a.airapply.landingInfo.master.lng1=t},expression:"airapply.landingInfo.master.lng1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.master.lng2,callback:function(t){a.airapply.landingInfo.master.lng2=t},expression:"airapply.landingInfo.master.lng2"}}),a._v(" "),e("span",[a._v("秒")])],1),a._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-top":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("纬")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:a.airapply.landingInfo.master.lat0,callback:function(t){a.airapply.landingInfo.master.lat0=t},expression:"airapply.landingInfo.master.lat0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.master.lat1,callback:function(t){a.airapply.landingInfo.master.lat1=t},expression:"airapply.landingInfo.master.lat1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.master.lat2,callback:function(t){a.airapply.landingInfo.master.lat2=t},expression:"airapply.landingInfo.master.lat2"}}),a._v(" "),e("span",[a._v("秒")])],1)])]):a._e()],1)]),a._v(" "),e("el-form-item",{attrs:{label:"备用起降场",prop:"landingInfo.slave"}},[null==a.airapply.landingInfo.slave?e("el-button",{attrs:{type:"text"},on:{click:a.addSlaveLanding}},[a._v("+ 添加起降场")]):a._e(),a._v(" "),null!=a.airapply.landingInfo.slave?e("div",[e("el-form-item",{staticClass:"landing_item",attrs:{label:"名称"}},[e("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择"},on:{change:function(t){a.handleChangeLanding(a.airapply.landingInfo.slave)}},model:{value:a.airapply.landingInfo.slave.id,callback:function(t){a.airapply.landingInfo.slave.id=t},expression:"airapply.landingInfo.slave.id"}},a._l(a.landings,function(a){return e("el-option",{attrs:{label:a.name,value:a.id}})})),a._v(" "),e("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:a.removeSlaveLanding}},[a._v("- 删除起降场")])],1),a._v(" "),a.airapply.landingInfo.slave.id==-1?e("el-form-item",{staticClass:"landing_item",attrs:{label:"起降场位置描述"}},[e("div",{staticStyle:{"margin-left":"130px"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入内容"},model:{value:a.airapply.landingInfo.slave.location,callback:function(t){a.airapply.landingInfo.slave.location=t},expression:"airapply.landingInfo.slave.location"}}),a._v(" "),e("div",{staticStyle:{color:"#3366ff"}},[e("i",[a._v("请以选择空域内起降场附近的地标或建设物为参考")])])],1)]):a._e(),a._v(" "),a.airapply.landingInfo.slave.id==-1?e("el-form-item",{staticClass:"landing_item",attrs:{label:"起降场坐标"}},[e("div",{staticStyle:{"margin-left":"130px"}},[e("div",{staticClass:"left"},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("经")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-180,max:180},model:{value:a.airapply.landingInfo.slave.lng0,callback:function(t){a.airapply.landingInfo.slave.lng0=t},expression:"airapply.landingInfo.slave.lng0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.slave.lng1,callback:function(t){a.airapply.landingInfo.slave.lng1=t},expression:"airapply.landingInfo.slave.lng1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.slave.lng2,callback:function(t){a.airapply.landingInfo.slave.lng2=t},expression:"airapply.landingInfo.slave.lng2"}}),a._v(" "),e("span",[a._v("秒")])],1),a._v(" "),e("div",{staticClass:"left",staticStyle:{"margin-top":"10px"}},[e("span",{staticStyle:{background:"#169bd5",padding:"5px"}},[a._v("纬")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:-90,max:90},model:{value:a.airapply.landingInfo.slave.lat0,callback:function(t){a.airapply.landingInfo.slave.lat0=t},expression:"airapply.landingInfo.slave.lat0"}}),a._v(" "),e("span",[a._v("度")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.slave.lat1,callback:function(t){a.airapply.landingInfo.slave.lat1=t},expression:"airapply.landingInfo.slave.lat1"}}),a._v(" "),e("span",[a._v("分")]),a._v(" "),e("el-input-number",{staticStyle:{"margin-right":"10px",width:"50px"},attrs:{controls:!1,debounce:0,min:0,max:60},model:{value:a.airapply.landingInfo.slave.lat2,callback:function(t){a.airapply.landingInfo.slave.lat2=t},expression:"airapply.landingInfo.slave.lat2"}}),a._v(" "),e("span",[a._v("秒")])],1)])]):a._e()],1):a._e()],1),a._v(" "),e("el-form-item",{attrs:{label:"飞行规则"}},[e("el-select",{attrs:{placeholder:"请选择",prop:"flyRules"},model:{value:a.airapply.flyRule,callback:function(t){a.airapply.flyRule=t},expression:"airapply.flyRule"}},a._l(a.flyrules,function(a){return e("el-option",{key:a.label,attrs:{label:a.label,value:a.label}})}))],1)],1),a._v(" "),e("div",{staticClass:"plan-form-title"},[e("div",{staticClass:"devider"}),a._v(" "),e("p",{staticClass:"text"},[a._v("联系方式")])]),a._v(" "),e("div",{staticClass:"plan-form-content clear"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"单位联系人",prop:"contactInfo.unitContactName"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:a.airapply.contactInfo.unitContactName,callback:function(t){a.airapply.contactInfo.unitContactName=t},expression:"airapply.contactInfo.unitContactName"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"联系电话",prop:"contactInfo.unitContact"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:a.airapply.contactInfo.unitContact,callback:function(t){a.airapply.contactInfo.unitContact=t},expression:"airapply.contactInfo.unitContact"}})],1)],1)],1),a._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"紧急联系人",prop:"contactInfo.emergencyContactName"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:a.airapply.contactInfo.emergencyContactName,callback:function(t){a.airapply.contactInfo.emergencyContactName=t},expression:"airapply.contactInfo.emergencyContactName"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"联系手机",prop:"contactInfo.emergencyContactPhone"}},[e("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:a.airapply.contactInfo.emergencyContactPhone,callback:function(t){a.airapply.contactInfo.emergencyContactPhone=t},expression:"airapply.contactInfo.emergencyContactPhone"}})],1)],1)],1)],1),a._v(" "),e("div",{
staticClass:"plan-form-title"},[e("div",{staticClass:"devider"}),a._v(" "),e("p",{staticClass:"text"},[a._v("其他信息")])]),a._v(" "),e("div",{staticClass:"plan-form-content clear"},[e("el-form-item",{attrs:{label:"上传附件",prop:"attachment"}},[e("el-upload",{attrs:{action:a.uploadFileUrl,"before-upload":a.beforeFileUpload,multiple:!1,accept:".pdf","on-success":a.handleFileUploadSuccess,"on-error":a.handleFileUploadFail,"on-change":a.handleFileChange,"file-list":a.airapply.file}},[e("el-button",{attrs:{size:"small",type:"primary"}},[a._v("点击上传")]),a._v(" "),e("div",{staticClass:"el-upload__tip",slot:"tip"},[a._v("\n                            附件包括：委托书、申请函、承诺书、营业执照等内容，上传格式为*.ptf ,大小不超过10MB\n                        ")])],1)],1),a._v(" "),e("el-form-item",{attrs:{label:"其他说明事项"}},[e("el-input",{attrs:{type:"textarea",rows:7},model:{value:a.airapply.remark,callback:function(t){a.airapply.remark=t},expression:"airapply.remark"}})],1)],1),a._v(" "),e("el-form-item",[e("el-button",{staticStyle:{width:"130px"},attrs:{type:"primary",disabled:!0},on:{click:a.submit}},[a._v("提交\n                ")])],1)],1)],1)])},staticRenderFns:[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"tips"},[a._v("提示:带"),e("span",{attrs:{color:"red"}},[a._v("*")]),a._v("号为必填项")])}]}}});